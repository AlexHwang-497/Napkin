const pracsData =[
    {
        "price": 331.355,
        "date": "2021-11-01"
    },
    {
        "price": 282.1217,
        "date": "2021-10-01"
    },
    {
        "price": 302.865,
        "date": "2021-09-01"
    },
    {
        "price": 286.36,
        "date": "2021-08-01"
    },
    {
        "price": 269.61,
        "date": "2021-07-01"
    },
    {
        "price": 251.23,
        "date": "2021-06-01"
    },
    {
        "price": 253.4,
        "date": "2021-05-01"
    },
    {
        "price": 238.47,
        "date": "2021-04-01"
    },
    {
        "price": 235.9,
        "date": "2021-03-01"
    },
    {
        "price": 235.06,
        "date": "2021-02-01"
    },
    {
        "price": 222.53,
        "date": "2021-01-01"
    },
    {
        "price": 214.51,
        "date": "2020-12-01"
    },
    {
        "price": 204.29,
        "date": "2020-11-01"
    },
    {
        "price": 213.49,
        "date": "2020-10-01"
    },
    {
        "price": 225.51,
        "date": "2020-09-01"
    },
    {
        "price": 211.52,
        "date": "2020-08-01"
    },
    {
        "price": 203.14,
        "date": "2020-07-01"
    },
    {
        "price": 182.54,
        "date": "2020-06-01"
    },
    {
        "price": 175.8,
        "date": "2020-05-01"
    },
    {
        "price": 153,
        "date": "2020-04-01"
    },
    {
        "price": 165.31,
        "date": "2020-03-01"
    },
    {
        "price": 170.43,
        "date": "2020-02-01"
    },
    {
        "price": 158.78,
        "date": "2020-01-01"
    },
    {
        "price": 151.81,
        "date": "2019-12-01"
    },
    {
        "price": 144.26,
        "date": "2019-11-01"
    },
    {
        "price": 139.66,
        "date": "2019-10-01"
    },
    {
        "price": 136.61,
        "date": "2019-09-01"
    },
    {
        "price": 137,
        "date": "2019-08-01"
    },
    {
        "price": 136.63,
        "date": "2019-07-01"
    },
    {
        "price": 123.85,
        "date": "2019-06-01"
    },
    {
        "price": 130.53,
        "date": "2019-05-01"
    },
    {
        "price": 118.95,
        "date": "2019-04-01"
    },
    {
        "price": 112.89,
        "date": "2019-03-01"
    },
    {
        "price": 103.775,
        "date": "2019-02-01"
    },
    {
        "price": 99.55,
        "date": "2019-01-01"
    },
    {
        "price": 113,
        "date": "2018-12-01"
    },
    {
        "price": 107.05,
        "date": "2018-11-01"
    },
    {
        "price": 114.75,
        "date": "2018-10-01"
    },
    {
        "price": 110.85,
        "date": "2018-09-01"
    },
    {
        "price": 106.03,
        "date": "2018-08-01"
    },
    {
        "price": 98.1,
        "date": "2018-07-01"
    },
    {
        "price": 99.2798,
        "date": "2018-06-01"
    },
    {
        "price": 93.21,
        "date": "2018-05-01"
    },
    {
        "price": 90.47,
        "date": "2018-04-01"
    },
    {
        "price": 93.99,
        "date": "2018-03-01"
    },
    {
        "price": 94.79,
        "date": "2018-02-01"
    },
    {
        "price": 86.125,
        "date": "2018-01-01"
    },
    {
        "price": 83.6,
        "date": "2017-12-01"
    },
    {
        "price": 83.68,
        "date": "2017-11-01"
    },
    {
        "price": 74.71,
        "date": "2017-10-01"
    },
    {
        "price": 74.71,
        "date": "2017-09-01"
    },
    {
        "price": 73.1,
        "date": "2017-08-01"
    },
    {
        "price": 69.33,
        "date": "2017-07-01"
    },
    {
        "price": 70.24,
        "date": "2017-06-01"
    },
    {
        "price": 68.68,
        "date": "2017-05-01"
    },
    {
        "price": 65.81,
        "date": "2017-04-01"
    },
    {
        "price": 64.13,
        "date": "2017-03-01"
    },
    {
        "price": 64.355,
        "date": "2017-02-01"
    },
    {
        "price": 62.79,
        "date": "2017-01-01"
    },
    {
        "price": 60.11,
        "date": "2016-12-01"
    },
    {
        "price": 59.97,
        "date": "2016-11-01"
    },
    {
        "price": 57.405,
        "date": "2016-10-01"
    },
    {
        "price": 57.01,
        "date": "2016-09-01"
    },
    {
        "price": 56.6,
        "date": "2016-08-01"
    },
    {
        "price": 51.13,
        "date": "2016-07-01"
    },
    {
        "price": 52.44,
        "date": "2016-06-01"
    },
    {
        "price": 50,
        "date": "2016-05-01"
    },
    {
        "price": 55.05,
        "date": "2016-04-01"
    },
    {
        "price": 50.97,
        "date": "2016-03-01"
    },
    {
        "price": 54.88,
        "date": "2016-02-01"
    },
    {
        "price": 54.32,
        "date": "2016-01-01"
    },
    {
        "price": 54.41,
        "date": "2015-12-01"
    },
    {
        "price": 52.85,
        "date": "2015-11-01"
    },
    {
        "price": 44.75,
        "date": "2015-10-01"
    },
    {
        "price": 42.17,
        "date": "2015-09-01"
    },
    {
        "price": 46.98,
        "date": "2015-08-01"
    },
    {
        "price": 44.46,
        "date": "2015-07-01"
    },
    {
        "price": 47.06,
        "date": "2015-06-01"
    },
    {
        "price": 48.58,
        "date": "2015-05-01"
    },
    {
        "price": 40.6,
        "date": "2015-04-01"
    },
    {
        "price": 43.67,
        "date": "2015-03-01"
    },
    {
        "price": 40.59,
        "date": "2015-02-01"
    },
    {
        "price": 46.66,
        "date": "2015-01-01"
    },
    {
        "price": 47.88,
        "date": "2014-12-01"
    },
    {
        "price": 46.89,
        "date": "2014-11-01"
    },
    {
        "price": 46.27,
        "date": "2014-10-01"
    },
    {
        "price": 45.43,
        "date": "2014-09-01"
    },
    {
        "price": 43.21,
        "date": "2014-08-01"
    },
    {
        "price": 41.86,
        "date": "2014-07-01"
    },
    {
        "price": 40.95,
        "date": "2014-06-01"
    },
    {
        "price": 40.2401,
        "date": "2014-05-01"
    },
    {
        "price": 41.15,
        "date": "2014-04-01"
    }
]


const dateLoop = arr => {
    let obj ={}
    let result =[]
    let ytd = arr[11].date
    // let tenYears = ytd.setMonth(d.getMonth() - 120)
    console.log(ytd)
    // console.log(tenYears)
    // *get ytd
    for(let i=0; i<arr.length; i=i+12){
        result.push(arr[i].date)
        // obj[pracsData[i].date.slice(2)]=pracsData[i].date
    }
    console.log(typeof result)
    console.log(result)
    // console.log(obj)
    return [ytd,...result]
}

console.log('this is the date loop',dateLoop(pracsData))

var endDate = new Date("2020-11-01");
console.log(endDate.toString());
console.log(endDate.toISOString().slice(0, 10));
const trailing24=endDate.setMonth(endDate.getMonth() - 120)
console.log(trailing24)
let fuckinDate = endDate.toISOString().slice(0, 10)
console.log(fuckinDate);



let currentDate = new Date().toISOString().slice(0, 10)
console.log(currentDate)

const pracsss = pracsData.map((el)=>el)
const filtered = pracsss.filter((el,i)=>el.date>=fuckinDate)
const mappedAgain = filtered.map((el)=>el.date.split('-')[0])
const distinct = [...new Set(mappedAgain)].sort()



// console.log(pracsss)
console.log('this is the filtered:',filtered)
console.log('this is the mappedAgain:',mappedAgain)
console.log('this is the distinct:',distinct)
let dateObj = {
    '0':'1yr',
    '1':'2yr',
    '2':'3yr',
    '3':'4yr',
    '4':'5yr',
    '5':'6yr',
    '6':'7yr',
    '7':'8yr',
    '8':'9yr',
    '9':'10yr'
}


const yearForSelection = (arr) => {
    console.log('ppp',arr)
    let obj ={}
    for(let i=0;i<arr.length;i++){
        obj[i] = dateObj[i]
    }
    return obj
}

console.log(yearForSelection(distinct))


